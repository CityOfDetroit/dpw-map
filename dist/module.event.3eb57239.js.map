{"version":3,"sources":["assets/js/module.event.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["calendarEvents","firstLoadCalendar","today","moment","format","console","log","events","year","createEventObject","data","tempEventObject","next_pickups","trash","day","recycling","dayOfWeek","AorB","week","startDate","next_pickup","bulk","getWeekNumber","d","Date","setHours","setDate","getDate","getDay","yearStart","getFullYear","weekNo","Math","ceil","weeksInYear","month","capitalizeFirstLetter","string","charAt","toUpperCase","slice","addEventToList","addeEventToList","weeks","eventType","eventInfo","endDate","i","title","eventObj","start","color","schedule","push","undefined","isBetween","parseInt","loadEmergencyEventInfo","emergencyObjArr","tempHtml","alertCount","forEach","item","type","normalDay","description","note","newDay","tempWidth","window","innerWidth","document","body","clientWidth","querySelector","innerHTML","getElementById","className","addEventListener","closeDisplayEmergencyEvent","displayEmergencyEvent","length","startCalendar","sendData","routeIDs","listOfEvents","todaysMonth","todaysYear","$","ajax","url","dataType","success","response","yardWasteStart","yardWasteEnd","details","service","yard","fullCalendar","customButtons","printButton","text","click","print","header","left","center","right","defaultDate","navLinks","editable","error","request","JSON","stringify","startCalendarServices","tempAddr","split","value","newTempAddr","size","index","lng","lat","getJSON","features","attributes","FID","closeCalendar","loadCalendarNow","sendSignUpRequest","params","Object","keys","map","k","encodeURIComponent","join","xhr","XMLHttpRequest","ActiveXObject","open","onload","readyState","trunc","status","responseText","setRequestHeader","e","send","stripPhoneNumber","number","newNumber","checkIfPhoneValid","phoneNumber","a","test","servicesSignup","serviceCheckList","querySelectorAll","checked","name","closePhoneValidationAlert","alertBox","target","parentNode","phoneValidationAlert","b","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","appendChild","remove","createElement","stackTrace","innerText","getParents","modules","parents","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"module.event.3eb57239.js","sourceRoot":"..","sourcesContent":["var calendarEvents = (function(){\n  var firstLoadCalendar = true;\n  var today = moment().format();\n  console.log(\"today\" , today)\n  var events = [];\n  var year = moment().year();\n  var createEventObject = function createEventObject(data) {\n    console.log (\"data from line 7 \" , data)\n    let  tempEventObject = {\n      'trash': {\n        \"dayOfWeek\": data.next_pickups.trash.day,\n        \"schedule\": \"weekly\",\n        \"AorB\": null,\n        \"startDate\": null,\n        \"endDate\": null\n      },\n      \"recycling\": {\n        \"dayOfWeek\": null,\n        \"schedule\": \"biweekly\",\n        \"AorB\": null,\n        \"startDate\": null,\n        \"endDate\": null\n      },\n      \"bulk\": {\n        \"dayOfWeek\": null,\n        \"schedule\": \"biweekly\",\n        \"AorB\": null,\n        \"startDate\": null,\n        \"endDate\": null\n      },\n      \"yard\": {\n        \"dayOfWeek\": null,\n        \"schedule\": \"biweekly\",\n        \"AorB\": null,\n        \"startDate\": null,\n        \"endDate\": null\n      }\n    };\n    tempEventObject.recycling.dayOfWeek = data.next_pickups.recycling.day;\n    tempEventObject.recycling.AorB = data.next_pickups.recycling.week;\n    tempEventObject.recycling.startDate = data.next_pickups.recycling.next_pickup;\n\n    tempEventObject.bulk.dayOfWeek = data.next_pickups.bulk.day;\n    tempEventObject.bulk.AorB = data.next_pickups.bulk.week;\n    tempEventObject.bulk.startDate = data.next_pickups.bulk.next_pickup;\n\n    tempEventObject.trash.dayOfWeek = data.next_pickups.trash.day;\n    tempEventObject.trash.AorB = data.next_pickups.trash.week;\n    tempEventObject.trash.startDate = data.next_pickups.trash.next_pickup;\n\n        return tempEventObject;\n  };\n  function getWeekNumber(d) {\n    // Copy date so don't modify original\n    d = new Date(+d);\n    d.setHours(0,0,0);\n    // Set to nearest Thursday: current date + 4 - current day number\n    // Make Sunday's day number 7\n    d.setDate(d.getDate() + 4 - (d.getDay()||7));\n    // Get first day of year\n    var yearStart = new Date(d.getFullYear(),0,1);\n    console.log(\"new Date(d.getFullYear(),0,1)\"+new Date(d.getFullYear(),0,1))\n    // Calculate full weeks to nearest Thursday\n    var weekNo = Math.ceil(( ( (d - yearStart) / 86400000) + 1)/7);\n    // Return array of year and week number\n    return [d.getFullYear(), weekNo];\n  }\n\n  function weeksInYear(year) {\n    var month = 11, day = 31, week;\n    // Find week that 31 Dec is in. If is first week, reduce date until\n    // get previous week.\n    do {\n      d = new Date(year, month, day--);\n      week = getWeekNumber(d)[1];\n    } while (week == 1);\n    return week;\n  }\n  function capitalizeFirstLetter(string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n  var addEventToList = function addeEventToList(year,weeks,eventType,eventInfo,startDate, endDate) {\n    // Add garbage pickup day every week\n    // console.log(year);\n    // console.log(weeks);\n    // console.log(eventType);\n    // console.log(\"eventInfo \",eventInfo);\n    // console.log(startDate);\n    // console.log(endDate);\n    for (var i = 1; i < weeks; i++) {\n      let title = eventType + ' pick up';\n      let eventObj = {\n        title : title,\n        start : ''\n      };\n      switch (eventType) {\n        case 'Garbage':\n            eventObj.color = '#BD0019';\n              eventObj.start = moment().year(year).week(i).day(eventInfo.dayOfWeek).format(\"YYYY-MM-DD\");\n          break;\n\n        case 'Recycle':\n            eventObj.color = '#068A24';\n              eventObj.start = moment().year(year).week(i).day(eventInfo.dayOfWeek).format(\"YYYY-MM-DD\");\n          break;\n\n        case 'Yard waste':\n            eventObj.color = '#DF5800';\n              eventObj.start = moment().year(year).week(i).day(eventInfo.dayOfWeek).format(\"YYYY-MM-DD\");\n          break;\n\n        case 'Bulk':\n            eventObj.color = '#114BC7';\n              eventObj.start = moment().year(year).week(i).day(eventInfo.dayOfWeek).format(\"YYYY-MM-DD\");\n\n          break;\n        default:\n            console.log(\"addto list\" + moment().year(year).week(i).day(eventInfo.dayOfWeek).format(\"YYYY-MM-DD\"))\n      }\n      // console.log(eventObj);\n      if(eventInfo.schedule === 'weekly'){\n        events.push(eventObj);\n      }else{\n        if(startDate !== undefined){\n          if(moment(eventObj.start).isBetween(startDate, endDate)){\n            if((parseInt(moment(eventObj.start).format('YYYY')) % 2) !== 0){\n              if(eventInfo.AorB === 'a'){\n                (parseInt(moment(eventObj.start).format('W') % 2) === 0) ? events.push(eventObj): 0;\n              }else{\n                  (parseInt(moment(eventObj.start).format('W') % 2) !== 0) ? events.push(eventObj): 0;\n              }\n            }else{\n              if(eventInfo.AorB === 'a'){\n                (parseInt(moment(eventObj.start).format('W') % 2) !== 0) ? events.push(eventObj): 0;\n              }else{\n                (parseInt(moment(eventObj.start).format('W') % 2) === 0) ? events.push(eventObj): 0;\n              }\n            }\n          }\n        }else{\n          if((parseInt(moment(eventObj.start).format('YYYY')) % 2) !== 0){\n            if(eventInfo.AorB === 'a'){\n              (parseInt(moment(eventObj.start).format('W') % 2) === 0) ? events.push(eventObj): 0;\n            }else{\n              (parseInt(moment(eventObj.start).format('W') % 2) !== 0) ? events.push(eventObj): 0;\n            }\n          }else{\n            if(eventInfo.AorB === 'a'){\n              (parseInt(moment(eventObj.start).format('W') % 2) !== 0) ? events.push(eventObj): 0;\n            }else{\n              console.log(\"bulk differnce \" + eventInfo.startDate + ' '+moment(eventInfo.startDate).format('W') + \"  \" + moment(eventObj.start).format('W') , moment(eventInfo.startDate).format('W') - moment(eventObj.start).format('W')  );\n              (parseInt((moment(eventInfo.startDate).format('W') - moment(eventObj.start).format('W')) % 2) === 0) ? events.push(eventObj): 0;\n            }\n          }\n        }\n      }\n    }\n    // console.log(events);\n  };\n\n  var loadEmergencyEventInfo = function loadEmergencyEventInfo(emergencyObjArr) {\n    let tempHtml = '<h3>NOTICE</h3><article id=\"close-emergency-modal-btn-2\"><img src=\"assets/img/error.png\" alt=\"close\"></img></article>';\n    let alertCount = 0;\n    emergencyObjArr.forEach(function(item){\n      switch (item.type) {\n        case 'info':\n          tempHtml += '<p><strong>Normal Date:</strong> ' + moment(item.normalDay).format(\"dddd, MMMM Do YYYY\") + '</p><p>' + item.description + '. ' + item.note + '</p><hr>';\n          alertCount++;\n          break;\n\n        case 'start-date':\n          if(moment(item.newDay).month() == moment().month()){\n            tempHtml += '<p><strong>Start Date:</strong> ' + moment(item.newDay).format(\"dddd, MMMM Do YYYY\") + '</p><p>' + item.description + '. ' + item.note + '</p><hr>';\n            alertCount++;\n          }\n          break;\n\n        case 'end-date':\n          if(moment(item.newDay).month() == moment().month()){\n            tempHtml += '<p><strong>End Date:</strong> ' + moment(item.newDay).format(\"dddd, MMMM Do YYYY\") + '</p><p>' + item.description + '. ' + item.note + '</p><hr>';\n            alertCount++;\n          }\n          break;\n        default:\n          tempHtml += '<p><strong>Normal Date:</strong> ' + moment(item.normalDay).format(\"dddd, MMMM Do YYYY\") + '</p><p><strong>Reschedule Date:</strong> ' + moment(item.newDay).format(\"dddd, MMMM Do YYYY\") + '</p><p>' + item.description + '. ' + item.note + '</p><hr>';\n          alertCount++;\n      }\n    });\n    if(alertCount > 0){\n      let tempWidth = window.innerWidth || document.body.clientWidth;\n      if(tempWidth > 400){\n        document.querySelector('.emergency-container').innerHTML = tempHtml;\n        document.getElementById('emergency-modal').className = 'active';\n        document.getElementById('close-emergency-modal-btn-2').addEventListener('click', closeDisplayEmergencyEvent);\n      }\n    }\n  };\n  var displayEmergencyEvent = function displayEmergencyEvent(emergencyObjArr) {\n    if(emergencyObjArr.length){\n      loadEmergencyEventInfo(emergencyObjArr);\n    }\n  };\n  var closeDisplayEmergencyEvent = function closeDisplayEmergencyEvent() {\n    document.getElementById('emergency-modal').className = '';\n  };\n  var startCalendar = function startCalendar(sendData, routeIDs) {\n     console.log(\"senddata\", sendData);\n    var listOfEvents = createEventObject(sendData);\n    console.log(\"listOfEvents \" , listOfEvents);\n    // console.log(year);\n    let todaysMonth =  moment().month() + 1;\n    let todaysYear = moment().year();\n\n    addEventToList((year-1),(weeksInYear((year-1)) + weeksInYear(year) + weeksInYear((year+1))),'Garbage',listOfEvents.trash);\n    addEventToList((year-1),(weeksInYear((year+1)) + weeksInYear(year) + weeksInYear((year+1))),'Recycle',listOfEvents.recycling);\n    addEventToList((year-1),(weeksInYear((year+1)) + weeksInYear(year) + weeksInYear((year+1))),'Bulk',listOfEvents.bulk);\n    // console.log( addEventToList((year-1),(weeksInYear((year-1)) + weeksInYear(year) + weeksInYear((year+1))),'Bulk',listOfEvents.Bulk))\n    $.ajax({\n        url : 'https://apis.detroitmi.gov/waste_schedule/details/' + routeIDs + '/year/' + todaysYear + '/month/' + todaysMonth + '/',\n        type : 'GET',\n        dataType:'json',\n        success : function(response) {\n          // console.log(response);\n          let yardWasteStart = null;\n          let yardWasteEnd = null;\n          response.details.forEach(function(item){\n            if(item.service == 'yard waste'){\n              switch (item.type) {\n                case 'end-date':\n                  listOfEvents.yard.endDate = item.newDay;\n                  yardWasteEnd = item.newDay;\n                  break;\n                default:\n                  listOfEvents.yard.startDate = item.newDay;\n                  yardWasteStart = item.newDay;\n              }\n            }\n          });\n        //  addEventToList((year-1),(weeksInYear((year-1)) + weeksInYear(year) + weeksInYear((year+1))),'Yard waste',listOfEvents.yard);\n\n    // console.log(\"garbage\"+(weeksInYear((year+1))));\n    //  console.log(todaysMonth);\n    //  console.log(todaysYear);\n          //console.log(\"events\", events);\n          displayEmergencyEvent(response.details);\n          if(firstLoadCalendar){\n            console.log(\"events 1\", events);\n            $('#calendar').fullCalendar({\n              customButtons: {\n                   printButton: {\n                       text: 'Print',\n                       click: function() {\n                           window.print();\n                       }\n                   }\n               },\n              header: {\n                left: 'prev,next',\n                center: 'title',\n                right: 'printButton'\n              },\n              defaultDate: today,\n              navLinks: false, // can click day/week names to navigate views\n              // businessHours: true, // display business hours\n              editable: true,\n              events: events\n            });\n            firstLoadCalendar = false;\n          }else{\n                console.log(\"events 2\", events);\n            $('#calendar').fullCalendar( 'addEventSource', events );\n          }\n        },\n        error : function(request,error){\n          console.log(\"Request: \"+JSON.stringify(request));\n        }\n    });\n  };\n\n  var startCalendarServices = function startCalendarServices() {\n    let tempAddr = document.querySelector('.street-name').innerHTML.split(' ');\n    let routeIDs = document.querySelector('input[name=\"route-id\"]').value;\n    let newTempAddr = '';\n    let size = tempAddr.length;\n    tempAddr.forEach(function(item, index) {\n      newTempAddr += item;\n      ((index < size) && (index + 1) !== size) ? newTempAddr += '+': 0;\n    });\n    // console.log(newTempAddr);\n    // console.log(routeIDs);\n    let lng = document.querySelector('.info-container > input[name=\"lng\"]').value;\n    let lat = document.querySelector('.info-container > input[name=\"lat\"]').value;\n    // console.log('lng:' + lng + ', lat:' + lat);\n    $.getJSON('https://gis.detroitmi.gov/arcgis/rest/services/DPW/2019Services/MapServer/0/query?where=&objectIds=&time=&geometry='+lng+'%2C+'+lat+'&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelWithin&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=pjson' , function( data , window) {\n      console.log(\"start data \",data);\n      let todaysMonth =  moment().month() + 1;\n      let todaysYear = moment().year();\n      url = 'https://apis.detroitmi.gov/waste_schedule/details/' + data.features[0].attributes.FID  + '/year/' + todaysYear + '/month/' + todaysMonth + '/';\n      console.log(\"url from map \", url);\n      $.ajax({\n        // TODO change this to https\n        url : url,\n        type : 'GET',\n        dataType:'json',\n        success : function(response) {\n           console.log(\"response  \",response);\n           startCalendar(response, routeIDs); //startCalendar(data, routeIDs);\n\n        }\n      });\n\n    });\n  };\n  var closeCalendar = function closeCalendar() {\n    if(document.querySelector('#box-calendar').className === 'active'){\n      document.querySelector('#box-calendar').className = '';\n      events.length = 0;\n      $('#calendar').fullCalendar('removeEvents');\n      (document.querySelector('#info').className === 'active') ? 0 : document.querySelector('#info').className = 'active';\n    }else{\n      document.querySelector('#box-calendar').className = 'active';\n    }\n  };\n  var loadCalendarNow = function loadCalendarNow() {\n    startCalendarServices();\n    (document.querySelector('#info').className === 'active') ? document.querySelector('#info').className = '' : 0;\n    closeCalendar();\n  };\n  var sendSignUpRequest = function sendSignUpRequest(url, data, success) {\n    var params = typeof data == 'string' ? data : Object.keys(data).map(\n            function(k){ return encodeURIComponent(k) + '=' + encodeURIComponent(data[k]); }\n        ).join('&');\n    // console.log(params);\n    var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\");\n    xhr.open('POST', url);\n    xhr.onload  = function() {\n      if (xhr.readyState>3 && Math.trunc(xhr.status / 100) == 2) {\n        // console.log('xhr success');\n        success(xhr.responseText);\n      }else{\n        // console.log('xhr error');\n        document.querySelector('.invalid-phone-error-message').innerHTML = 'There was an error with your request. Please try again.';\n        document.querySelector('.phone-invalid-alert').className = 'phone-invalid-alert active';\n      }\n    };\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    xhr.addEventListener(\"error\", function(e){\n      console.log(e);\n    });\n    xhr.send(params);\n    return xhr;\n  };\n  var stripPhoneNumber = function stripPhoneNumber(number){\n    let newNumber = '';\n    // console.log(number.split('('));\n    newNumber = number.split('(')[1];\n    // console.log(newNumber);\n    // console.log(newNumber.split(')'));\n    newNumber = newNumber.split(')')[0] + newNumber.split(')')[1];\n    // console.log(newNumber);\n    // console.log(newNumber.split('-'));\n    newNumber = newNumber.split('-')[0] + newNumber.split('-')[1];\n    // console.log(newNumber);\n    return newNumber;\n  }\n  var checkIfPhoneValid = function checkIfPhoneValid(){\n    let phoneNumber = document.getElementById('phone-number').value;\n    let a = /^(1\\s|1|)?((\\(\\d{3}\\))|\\d{3})(\\-|\\s)?(\\d{3})(\\-|\\s)?(\\d{4})$/.test(phoneNumber);\n    phoneNumber = stripPhoneNumber(phoneNumber);\n    if(a){\n      let routeIDs = '';\n      let servicesSignup = '';\n      let serviceCheckList = document.querySelectorAll('.service-check > input[type=\"checkbox\"]');\n      for (var i = 0; i < serviceCheckList.length; i++) {\n        if(serviceCheckList[i].checked){\n          routeIDs += serviceCheckList[i].value + ',';\n          servicesSignup += serviceCheckList[i].name + ',';\n        }\n      }\n      // console.log(routeIDs);\n      if(routeIDs !== ''){\n        let data = {\n          'phone_number'  : phoneNumber,\n          'waste_area_ids': routeIDs,\n          'service_type'  : servicesSignup,\n          'address' : document.querySelector('.street-name').innerHTML,\n          'latitude' :  document.querySelector('.info-container > input[name=\"lat\"]').value,\n          'longitude' : document.querySelector('.info-container > input[name=\"lng\"]').value\n        };\n        // console.log(data);\n        sendSignUpRequest('https://apis.detroitmi.gov/waste_notifier/subscribe/', data, function(response){\n            // console.log(response);\n            document.querySelector('.phone-valid-alert').className = 'phone-valid-alert active';\n        });\n      }else{\n        document.querySelector('.invalid-phone-error-message').innerHTML = 'Plese select one or more services to recive reminders.';\n        document.querySelector('.phone-invalid-alert').className = 'phone-invalid-alert active';\n      }\n    }else{\n      document.querySelector('.invalid-phone-error-message').innerHTML = 'Invalid number. Please enter re-enter you number.';\n      document.querySelector('.phone-invalid-alert').className = 'phone-invalid-alert active';\n    }\n  };\n  var closePhoneValidationAlert = function closePhoneValidationAlert(alertBox){\n    alertBox.target.parentNode.className = alertBox.target.parentNode.className.split(' ')[0];\n  };\n  // document.querySelectorAll('.close-phone-validation-alert').forEach(function(item){\n  //   item.addEventListener('click', function(b){\n  //     closePhoneValidationAlert(b);\n  //   });\n  // });\n  var phoneValidationAlert = document.querySelectorAll('.close-phone-validation-alert');\n  for (var i = 0; i < phoneValidationAlert.length; i++) {\n    phoneValidationAlert[i].addEventListener('click', function(b){\n      closePhoneValidationAlert(b);\n    });\n  }\n  document.querySelector('#reminder-form > .form_button').addEventListener('click', checkIfPhoneValid);\n  document.getElementById('back-to-infor-btn').addEventListener('click', closeCalendar);\n  document.querySelector('.calendar > article').addEventListener('click', loadCalendarNow);\n})(window);","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ðŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ðŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}